import{i as c,s as o,u as l,r as d,j as s,c as f,W as T}from"./useMT.js";function p(){try{return new Date().toLocaleString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}).replace(/\./g,":")}catch{return new Date().toString()}}function g(e){const t=String(e||"").toUpperCase();return t.startsWith("T-")?"Trial":/^[A-Z0-9]+$/.test(t)&&t.length>=3?"Voucher":"Member"}function h(e,t){const i=o(e.username),r=g(i),n=p();return"ðŸ”” *HOTSPOT LOGIN DETECTED*\nðŸ¢ *Server*: `"+o(t)+"`\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”\nðŸ‘¤ *User*: `"+i+"`\nðŸ“‹ *Tipe*: "+r+`
ðŸ•’ *Waktu*: `+n+"\nðŸŒ *IP*: `"+o(e.ip)+"`\nðŸ“Ÿ *MAC*: `"+o(e.mac)+`\`
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â³ *Sisa Waktu*: `+o(e.sessionTimeLeft)+`
ðŸ“¦ *Sisa Kuota*: `+o(e.remainBytes)+`
â”â”â”â”â”â”â”â”â”â”â”â”â”â”`}function y(){return typeof window>"u"?null:window.__TG__||null}async function S(e,t){if(!e)return;const i=e.botToken,r=e.chatId,n=e.systemName||"HOTSPOT";if(!c(i)||!c(r)||!c(t==null?void 0:t.username))return;const a=h(t,n),u="https://api.telegram.org/bot"+i+"/sendMessage",m={chat_id:r,text:a,parse_mode:"Markdown"};try{await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m),mode:"no-cors"})}catch{}}function k(){const e=l();return d.useEffect(()=>{const t=e.username;if(!c(t)||String(t).includes("$(")||t==="UnknownUser"||String(t).includes("$"))return;const i=y();i&&S(i,{username:t,ip:e.ip,mac:e.mac,sessionTimeLeft:c(e.sessionTimeLeft)?e.sessionTimeLeft:"Unlimited",remainBytes:c(e.remainBytesTotalNice)?e.remainBytesTotalNice:"Unlimited"});const r=setTimeout(()=>{let n="";try{n=decodeURIComponent(String(e.linkRedirectEsc||""))}catch{n=String(e.linkRedirectEsc||"")}(!n||!n.includes("http"))&&(n=String(e.linkRedirect||"")),(!n||!n.includes("http"))&&(n="http://afrcloud.net/status"),window.location.href=n},4e3);return()=>clearTimeout(r)},[e]),s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"status",children:"Menyiapkan koneksi..."}),s.jsx("div",{className:"bar",children:s.jsx("div",{className:"fill"})})]})}f.createRoot(document.getElementById("root")).render(s.jsxs(s.Fragment,{children:[s.jsx(k,{}),s.jsx(T,{})]}));
