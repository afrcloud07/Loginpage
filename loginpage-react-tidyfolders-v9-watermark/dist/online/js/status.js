import{u as f,r,i,j as e,s as a,g as j,c as g,W as b}from"./chunks/useMT.js";import{A as p,O as N}from"./chunks/OfflineMaintenance.js";function w(){const s=f(),c=String(s.identity||"").includes("$(")||String(s.ip||"").includes("$(")||String(s.mac||"").includes("$("),n=r.useMemo(()=>{const t=s.refreshTimeoutSecs;if(!i(t))return 60;const l=parseInt(String(t),10);return Number.isFinite(l)&&l>0?l:60},[s.refreshTimeoutSecs]),[d,o]=r.useState(n);r.useEffect(()=>{o(n);const t=setInterval(()=>o(l=>l>0?l-1:0),1e3);return()=>clearInterval(t)},[n]),r.useEffect(()=>{if(!n)return;const t=setTimeout(()=>window.location.reload(),n*1e3);return()=>clearTimeout(t)},[n]);const m=(()=>{const t=String(s.loginBy||"").toLowerCase();return t==="trial"?e.jsxs(e.Fragment,{children:["Halo, ",e.jsx("b",{children:"Trial User"}),"!"]}):i(s.username)&&t!=="mac"?e.jsxs(e.Fragment,{children:["Halo, ",e.jsx("b",{children:a(s.username)}),"!"]}):null})(),h=i(s.remainBytesTotal)&&a(s.remainBytesTotal)!=="0",u=String(s.loginByMac||"").toLowerCase()!=="yes",x=t=>{window.name==="hotspot_status"&&i(s.linkLogout)&&(t.preventDefault(),window.open(s.linkLogout,"hotspot_logout","toolbar=0,location=0,status=0,menubar=0,scrollbars=1,resizable=1,width=280,height=400"),window.close())};return e.jsxs("div",{className:"main-wrapper",children:[e.jsxs("div",{className:"greeting-section",children:[e.jsx("div",{className:"status-badge",children:"âœ… CONNECTED"}),e.jsx("div",{className:"clock-container",children:e.jsx(p,{})}),e.jsx("div",{className:"wifi-name",style:{fontSize:"1.8rem",lineHeight:1.15,wordBreak:"break-word"},children:a(s.identity)}),e.jsx("div",{className:"welcome-text",children:m}),c&&e.jsxs("div",{style:{background:"rgba(239,68,68,.12)",border:"1px solid rgba(239,68,68,.25)",color:"#fecaca",padding:"10px 12px",borderRadius:12,fontSize:12,margin:"10px auto 15px auto",maxWidth:520},children:["Variabel MikroTik belum terbaca (masih ",e.jsx("b",{children:"$(...)"}),"). Pastikan file ",e.jsx("b",{children:"dist/online"})," di-upload ke ",e.jsx("b",{children:"html-directory"})," hotspot dan folder ",e.jsx("b",{children:"chunks/"})," ikut ter-upload."]}),e.jsxs("div",{className:"traffic-stats",children:[e.jsxs("div",{className:"stat-box",children:[e.jsxs("div",{className:"stat-label",children:[e.jsx("i",{className:"fa-solid fa-download stat-icon"})," Download"]}),e.jsx("div",{className:"stat-value",children:a(s.bytesOutNice)})]}),e.jsxs("div",{className:"stat-box",children:[e.jsxs("div",{className:"stat-label",children:[e.jsx("i",{className:"fa-solid fa-upload stat-icon"})," Upload"]}),e.jsx("div",{className:"stat-value",children:a(s.bytesInNice)})]})]}),e.jsx("table",{className:"status-table",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsxs("td",{children:["IP Address ",e.jsx("i",{className:"fa-solid fa-network-wired fa-fw"})]}),e.jsx("td",{className:"val",children:a(s.ip)})]}),e.jsxs("tr",{children:[e.jsxs("td",{children:["MAC Address ",e.jsx("i",{className:"fa-solid fa-fingerprint fa-fw"})]}),e.jsx("td",{className:"val",children:a(s.mac)})]}),e.jsxs("tr",{children:[e.jsxs("td",{children:["Terhubung ",e.jsx("i",{className:"fa-solid fa-clock fa-fw"})]}),e.jsx("td",{className:"val",children:a(s.uptime)})]}),h&&e.jsxs("tr",{children:[e.jsxs("td",{children:["Sisa Kuota ",e.jsx("i",{className:"fa-solid fa-chart-pie fa-fw"})]}),e.jsx("td",{className:"val",children:a(s.remainBytesTotalNice)})]}),e.jsxs("tr",{children:[e.jsxs("td",{children:["Sisa Waktu ",e.jsx("i",{className:"fa-solid fa-hourglass-half fa-fw"})]}),e.jsx("td",{className:"val",children:i(s.sessionTimeLeft)?a(s.sessionTimeLeft):"Unlimited"})]}),String(s.blocked||"").toLowerCase()==="yes"&&e.jsxs("tr",{children:[e.jsx("td",{children:"Status"}),e.jsx("td",{className:"val",children:e.jsx("a",{href:i(s.linkAdvert)?s.linkAdvert:"#",style:{color:"#ef4444"},children:"Iklan Wajib"})})]})]})}),e.jsxs("div",{className:"refresh-info",children:["Refresh otomatis: ",e.jsx("span",{id:"countdown",children:d})," detik"]})]}),u&&e.jsx("div",{className:"input-hero",children:e.jsxs("form",{action:i(s.linkLogout)?s.linkLogout:"#",name:"logout",method:"post",onSubmit:x,children:[e.jsx("input",{type:"hidden",name:"erase-cookie",value:"on"}),e.jsx("p",{style:{fontSize:10,textAlign:"center",margin:"5px auto",color:"var(--text-dim)"},children:"Tombol LOG OFF akan memutuskan koneksi internet"}),e.jsxs("button",{type:"submit",className:"action-btn",style:{background:"#ef4444",color:"white"},children:[e.jsx("i",{className:"fa-solid fa-power-off"})," LOG OUT"]})]})})]})}const v=j(),k=v==="offline"?N:w;g.createRoot(document.getElementById("root")).render(e.jsxs(e.Fragment,{children:[e.jsx(k,{}),e.jsx(b,{})]}));
